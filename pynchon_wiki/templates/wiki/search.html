{% extends 'base.html' %}
{% block title %}Поиск{% endblock %}
{% block content %}
	<div class="container">
		<h2>Результаты поиска по запросу "{{ query }}"</h2> 
		<a class="btn btn-outline-secondary"   href={% if search_model == 'comments' %}
														{% url 'wiki:rainbow_part2' %}	
													{% elif search_model == 'chronology' %}
														{% url 'wiki:rainbow_part5' %}
													{% elif search_model == 'characters' %}
														{% url 'wiki:rainbow_part6' %}
													{% endif %}>
			Вернуться к поиску
		</a>
		<br>
		<br>
		{% if search_model == 'characters' %}
			<table class="table">
				<tr class="table__row">
					<td class="table__cell">
						<p class="table__text">Имя</p>
					</td>
					<td class="table__cell">
						<p class="table__text">Имя в оригинале и значение имени</p>
					</td>
					<td class="table__cell">
						<p class="table__text">Характеристика</p>
					</td>
					<td class="table__cell">
						<p class="table__text">Портрет</p>
					</td>
					<td class="table__cell">
						<p class="table__text">Группы</p>
					</td>
					<td class="table__cell">
						<p class="table__text">Упоминания</p>
					</td>
				</tr>
				{% for result in results %}
					{% with result as character %}
						<tr class="table__row">
							<td class="table__cell">
								<h6 class="table__text"> {{ character.name|safe }} </h6>
							</td>
							<td class="table__cell">
								<p class="table__text"> {{ character.value_name }} </p>
							</td>
							<td class="table__cell">
								<p class="table__text"> {{ character.characteristics }} </p>
							</td>
							<td class="table__cell">
								<p class="table__text"> {{ character.portrait }} </p>
							</td>
							<td class="table__cell">
								<p class="table__text"> {{ character.groups }} </p>
							</td>
							<td class="table__cell">
								<p class="table__text"> {{ character.mentions }} </p>
							</td>
						</tr>
					{% endwith %}
				{% empty %}
					<tr>
						<td colspan="6"><h5>По вашему запросу ничего не найдено =(</h5></td>
					</tr>
				{% endfor %}
			</table>
		{% elif search_model == 'chronology' %}
			<table class="table">
				<tr class="table__row">
					<td class="table__cell">
						<p class="table__text">Дата</p>
					</td>
					<td class="table__cell">
						<p class="table__text">Событие</p>
					</td>
				</tr>
				{% for result in results %}
					{% with result as row %}
						<tr class="table__row">
							<td class="table__cell">
								<p class="table__text"> {{ row.date|safe }} </p>
							</td>
							<td class="table__cell">
								<p class="table__text"> {{ row.description|safe }} </p>
							</td>
						</tr>
					{% endwith %}
				{% empty %}
					<tr>
						<td colspan="2"><h5>По вашему запросу ничего не найдено =(</h5></td>
					</tr>
				{% endfor %}
			</table>
		{% elif search_model == 'comments' %}
			{% for result in results %}
				{% with result as comment %}
					{% include 'includes/comment.html' %}
				{% endwith %}
			{% empty %}
				<h5>По вашему запросу ничего не найдено =(</h5>
			{% endfor %}
		{% endif %}
	</div>
{% endblock %}